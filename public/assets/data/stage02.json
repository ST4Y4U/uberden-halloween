{
  "id": 2,
  "name": "Stage 2",
  "bakeTimeSec": 4,
  "ui": {
    "arrowToKitchen": { "x": 1184, "y": 648 },
    "arrowToHall":    { "x": 96,   "y": 648 }
  },
  "layout": {
    "hall": {
      "entryX": -200, "entryY": 420,
      "standX":  320, "standY": 420,
      "deliverZone": { "x": 320, "y": 420, "w": 220, "h": 220 }
    },
    "kitchen": {
      "board":    { "x": 700, "y": 520, "r": 170, "snap": 1 },
      "ovenZone": { "x": 1030, "y": 300, "w": 250, "h": 260 },
      "burnZone": { "x": 1030, "y": 640, "w": 260, "h": 120 },
      "timer":    { "x": 1030, "y": 240,
        "frames": ["kitchen_oven_timer_4","kitchen_oven_timer_3","kitchen_oven_timer_2","kitchen_oven_timer_1"]
      },
      "bins": {
        "doughSlot": {
          "x": 1160, "y": 520,
          "mode": "dough",
          "cycleOnTap": true,
          "label": { "x": 1160, "y": 560, "textDough": "DOUGH", "textLattice": "LATTICE", "fontSize": 20, "color": "#6E2B8B" },
          "alternatives": [
            { "key": "kitchen_ingredient_dough",   "mapsTo": "pie_bottom_raw" },
            { "key": "kitchen_ingredient_lattice", "mapsTo": "pie_top_raw"    }
          ]
        },
        "fillings": [
          { "key": "kitchen_ingredient_pumpkin",   "mapsTo": "pie_jam_pumpkin",   "x": 180, "y": 160 },
          { "key": "kitchen_ingredient_raspberry", "mapsTo": "pie_jam_raspberry", "x": 380, "y": 160 },
          { "key": "kitchen_ingredient_blueberry", "mapsTo": "pie_jam_blueberry", "x": 580, "y": 160 },
          { "key": "kitchen_ingredient_strawberry","mapsTo": "pie_jam_strawberry","x": 780, "y": 160 },
          { "key": "kitchen_ingredient_pecan",     "mapsTo": "pie_jam_pecan",     "x": 180, "y": 300 },
          { "key": "kitchen_ingredient_apple",     "mapsTo": "pie_jam_apple",     "x": 380, "y": 300 },
          { "key": "kitchen_ingredient_magic",     "mapsTo": "pie_jam_magic",     "x": 580, "y": 300, "lockedBy": "kitchen_magic_lock" }
        ],
        "toppings": [
          { "key": "pie_ingredient_cherry",      "x": 240, "y": 620 },
          { "key": "pie_ingredient_sprinkle",    "x": 480, "y": 620 },
          { "key": "pie_ingredient_sugarpowder", "x": 720, "y": 620 }
        ]
      },
      "magic": {
        "lock": { "key": "kitchen_magic_lock", "x": 580, "y": 300, "w": 72, "h": 72 },
        "key":  { "key": "kitchen_magic_key",  "x": 1220, "y": 660 }
      }
    }
  },
  "customers": [
    {
      "id": "c2",
      "name": "cheongbi",
      "sprites": {
        "standard": "client_cheongbi_standard",
        "happy": "client_cheongbi_happy",
        "angry": "client_cheongbi_angry"
      },
      "dialogue": [
        {
          "id": "d1",
          "who": "client",
          "text": "블루베리 파이로 주세요. 위에 뭐가 뿌려졌으면 좋겠는데...",
          "sprite": "standard",
          "choices": [
            { "label": "뭐라구요?", "next": "d2" },
            { "label": "네", "next": "end" }
          ]
        },
        {
          "id": "d2",
          "who": "client",
          "text": "생각났어요. 슈가파우더라고 하나요? 그걸 올려주세요.",
          "sprite": "standard",
          "choices": [
            { "label": "뭐라구요?", "next": "d3" },
            { "label": "네", "next": "end" }
          ]
        },
        {
          "id": "d2",
          "who": "client",
          "text": "블루베리 파이, 위에 슈가파우더 올려서 주세요.",
          "sprite": "standard",
          "choices": [
            { "label": "네", "next": "end" }
          ]
        },
      ],
      "order": {
        "filling": "pie_jam_blueberry",
        "needsLattice": true,
        "toppings": ["pie_ingredient_sugarpowder"]
      },
      "successLine": { "who": "client", "text": "정말 완벽한 파이네요." },
      "failLine": { "who": "client", "text": "이건 제가 주문한 파이가 아닙니다..." }
    }
  ],
  "nextStage": 3
}
